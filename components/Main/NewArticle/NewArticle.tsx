import MainCardNewArticle from "@/components/Atomic/NewArticle/MainCardNewArticle";
import CardNewArticle from "@/components/Atomic/NewArticle/CardNewArticle";

// {
//   "data": {
//       "id": "cm5o8q137001bpcpike0js9r7",
//       "title": "Nisi Sint Esse Velaliquam Exercitation Nulla Aliquip Quis ea Nostrud Aliquip Velit Nisi",
//       "slug": "nisi-sint-esse-velaliquam-exercitation-nulla-aliquip-quis-ea-nostrud-aliquip-velit-nisi",
//       "content": {
//           "type": "doc",
//           "content": [
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   },
//                   "content": [
//                       {
//                           "text": "Nisi exercitation ut aliquip in nostrud pariatur nulla. Laboris adipiscing pariatur ut exercitation nostrud sed laboris voluptate nunc ullamco velaliquam consectetur. Consequat commodo nulla nostrud fugiat adipiscing dolor ea quis exercitation voluptate dolor nunc dolore velaliquam quis, laboris amet tempor harmud aliquip nulla ut sint laboris sed sed urna magna velit pariatur ut. Doming sint dolor suscipit, harmud velit pariatur esse nisi quis fugiat eu consequat sit, consequat pulvinar providerent tempor ea velit aliquip voluptate exercitation ultricies magna exercitation. ",
//                           "type": "text"
//                       }
//                   ]
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   }
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   },
//                   "content": [
//                       {
//                           "text": "Nostrud nulla sunt amet ut tempor in sit commodo dolore urna, velaliquam nunc sit urna sed commodo, eros tempuribud amet tempor nulla velit eu voluptate ex dignissim amet laboris ex sint amet dolore eu eros consectetur sint. Nulla elit, elit aliquip magna eros velaliquam eros eros commodo providerent ea quis commodo nostrud. Velaliquam magna consequat nostrud esse providerent ea commodo exercitation tempuribud velit duis nunc, amet nisi, eu nunc amet.Ea urna, pulvinar ut. Ut eu laboris nulla consectetur. Ultricies amet consequat adipiscing sunt ex, quis harmud tempor, laboris dolor tempuribud aliquip adipiscing pulvinar adipiscing. Aliquip sed sed in magna harmud nulla. Harmud suscipit, harmud velaliquam, aliquip suscipit ut duis amet. ",
//                           "type": "text"
//                       }
//                   ]
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   }
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   },
//                   "content": [
//                       {
//                           "text": "Adipiscing sed pulvinar commodo doming in magna exercitation voluptate ea quis ultricies elit velit quis adipiscing velaliquam nisi. In laboris amet providerent dolor adipiscing quis dignissim.Exercitation doming nisi ea adipiscing ullamco eros eu dignissim sed. Nulla quis urna suscipit. Magna nunc in adipiscing consectetur eu dolore sed nunc, voluptate adipiscing velaliquam tempuribud sit commodo nostrud quis velaliquam dignissim exercitation, sed sunt eros nulla ullamco adipiscing nunc. Consequat harmud nisi ex urna duis suscipit quis sunt. ",
//                           "type": "text"
//                       }
//                   ]
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   }
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   },
//                   "content": [
//                       {
//                           "text": "Laboris ut sunt ullamco voluptate, sed nostrud sit adipiscing harmud magna consequat sint pariatur nostrud sit. Ut velit sed ultricies aliquip pulvinar ut ut providerent ut, fugiat velaliquam providerent eros pulvinar tempor ut providerent magna, ut in nostrud consectetur dolor dolore ultricies eu consectetur. Urna tempuribud nostrud velit sit consequat, fugiat nulla dolore tempuribud ea tempor, sint ullamco ullamco dolor nulla quis adipiscing.Doming aliquip doming nulla tempuribud sint providerent sed suscipit amet, eros fugiat tempor velit providerent consectetur eros pariatur exercitation. ",
//                           "type": "text"
//                       }
//                   ]
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   }
//               },
//               {
//                   "type": "paragraph",
//                   "attrs": {
//                       "textAlign": "left"
//                   },
//                   "content": [
//                       {
//                           "text": "Consequat sunt nostrud voluptate eros sunt, dignissim sint dolor in ea velit laboris in. Nulla aliquip ullamco. Urna tempor aliquip quis duis harmud, dolore nunc nunc consectetur nulla quis ut commodo fugiat quis quis eu ut. Nostrud sunt ullamco nisi magna, pariatur nunc harmud in suscipit ut nisi urna dolore, esse dolor duis pulvinar. Duis nostrud aliquip dolor quis. Ultricies velaliquam voluptate ex suscipit dolore eu, adipiscing dignissim ex pulvinar sint nulla exercitation velaliquam sed commodo, esse sed quis ut in exercitation quis consequat ut sunt suscipit nostrud duis.",
//                           "type": "text"
//                       }
//                   ]
//               }
//           ]
//       },
//       "coverImageId": "cm5o8pf1c0019pcpiitlwwzrk",
//       "coverImage": {
//           "filepath": "public/assets/blog/545657ea359c23a97a152ce08c6f58c7.jpg"
//       },
//       "category": {
//           "id": "cm5o7q3ki0007l903jik2bcxo",
//           "name": "BISNIS",
//           "description": "Deskripsi dari bisnis kategori",
//           "createdAt": "2025-01-08T18:08:05.011Z",
//           "updatedAt": "2025-01-08T18:08:05.011Z",
//           "userId": "cm5o7mvzq0000mb03tad9qfv8",
//           "isUserActive": true
//       },
//       "tags": [
//           {
//               "tag": {
//                   "id": "cm5lisv5y0001pc2t17mvp0mq",
//                   "name": "Quis Fugiat ut"
//               }
//           },
//           {
//               "tag": {
//                   "id": "cm5nl10c20000pcf7o8bih06p",
//                   "name": "Sed Esse Esse Consequa"
//               }
//           }
//       ],
//       "status": "PUBLISH",
//       "publishedAt": "2025-01-08T18:35:57.605Z",
//       "allowComment": true,
//       "likeCount": 0,
//       "viewCount": 0,
//       "createdAt": "2025-01-04T18:36:01.411Z",
//       "updatedAt": "2025-01-09T20:21:14.194Z",
//       "isUserActive": true,
//       "user": {
//           "username": "administrator",
//           "role": "ADMINISTRATOR",
//           "profileImage": "public/assets/profile-image/26e0dfab7c0f24beed1c96de641c5b90.png",
//           "deletedAt": null
//       }
//   },
//   "message": "Get blog by id: cm5o8q137001bpcpike0js9r7 success"
// }

export default async function NewArticle() {
  const res = await fetch("http://localhost:4000/api/blog");
  const response = await res.json();
  const blogs = response.data;
  const title = blogs.map((blog: any) => blog.title);

  return (
    <section className="mb-10">
      {/* BY PUBLISH DATE */}
      <header className="px-2 py-2 border-b font-extrabold text-xl">
        ARTIKEL TERBARU
      </header>

      <section>
        {/* CARD */}
        <MainCardNewArticle
          author="Reza Fardan"
          title={title}
          content="Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae,
            facere sed? Deserunt ex cupiditate sequi officiis in iusto
            perspiciatis qui voluptate quibusdam ut, possimus sit reiciendis
            obcaecati laudantium molestias eveniet!"
        />
        <div className="grid grid-cols-2">
          {blogs.map((blog: any) => {
            return (
              <div key={blog.id}>
                <CardNewArticle
                  title={blog.title}
                  category={blog.category.name}
                  coverimage={`http://localhost:4000/${blog.coverImage.filepath}`}
                />
              </div>
            );
          })}
        </div>
      </section>
    </section>
  );
}
